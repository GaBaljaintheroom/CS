### 클럭

- CPU가 동작하는 속도
- 클럭 속도는 헤르츠(Hz) 단위로 측정
- 클럭 속도가 곧 CPU 속도
- 오버클럭킹 : 클럭 속도를 강제로 더 끌어올리는 것

### 코어와 멀티코어

코어 : CPU 내에서 명령어를 실행하는 부품으로 여러 개 있을 수 있음

멀티코어 : 여러 개의 코어를 포함하고 있는 CPU

### 스레드와 멀티스레드

**스레드**

- 하드웨어적 스레드 : 하나의 코어가 동시에 처리하는 명령어 단위
    - 2코어 4스레드 : 명령어를 실행하는 부품을 2개 포함하고, 한 번에 네 개의 명렁어를 처리할 수 있느 CPU를 의미
    - 멀티스레드 프로세서 :  여러 개의 하드웨어적 스레드를 지원하는 CPU
- 소프트웨어적 스레드 : 하나의 프로그램에서 독립적으로 실행되는 단위

**멀티스레드 프로세서**

- 하나의 코어로 여러개의 명령어를 동시에 실행할 수 있는 CPU

**멀티코어 프로세서**

- 명령어를 실행할 수 있는 하드웨어 부품이 CPU 안에 두 개 이상 있는 CPU

### 명령어 파이프라인

1. 명령어 인출
2. 명령어 해석
3. 명령어 실행
4. 결과 저장

명령어 파이프라인 : 동시에 여러 개의 명령어를 겹쳐 실행하는 기법

**파이프라인 위험**

- 데이터 위험
    - 명령어 간 ‘데이터 의존성’에 의해 발생
    - 어떤 명령어는 이전 명령어를 끝까지 실행해야만 비로소 실행하는 경우
        - 명령어 1 : R1 ← R2 + R3
        - 명령어 2 : R4 ← R1 + R5
- 제어 위험
    - 주기 분기 등으로 인한 ‘프로그램 카운터의 갑작스러운 변화’에 의해 발생
    - 프로그램 실행 흐름이 바뀌어 명령어가 실행되면서 프로그램 카운터 값에 갑작스러운 변화가 생긴다면 명령어 파이프라인에 미리 가지고 와서 처리 중이었던 명령어들은 아무 쓸모가 없어짐
- 구조적 위험
    - 명령어들은 겹쳐 실행하는 과정에서 서로 다른 명령어가 동시에 ALU, 레지스터 등과 같은 CPU 부품을 사용하려고 할 때 발생합니다.

**슈퍼스칼라**

- CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조

**비순차적 명령어 처리**

- 명령어를 순차적으로만 실행하지 않고 순서를 바꿔 실행해도 무방한 명령어를 먼저 실행하여 명령어 파이프라인이 멈추는 것을 방지하는 기법

### 명령어 집합

- CPU가 이해할 수 있는 명령어들의 모음 (ISA)
- ISA가 다르면, 제어장치가 명령어를 해석하는 방식, 사용되는 레지스터의 종류와 개수, 메모리 관리 방법 등 많은 것이 달라짐

**CISC**

- 가변 길이 명령어 : 명령어의 형태와 크기가 다양한 명령어
- 프로그램을 실행하는 명령어 수가 적다 == 컴파일된 프로그램의 크기가 작다
- 적은 수의 명령어만으로도 프로그램을 동작시킬 수 있다 == 메모리 공간을 절약할 수 있다
- 명령어 수행 시간이 길고 가지각색이기 때문에 파이프라인이 효율적으로 명령어를 처리할 수 없음
- 즉, 명령어 규격화가 어려워 파이프라이닝이 어렵다, 대다수의 복잡한 명령어는 그 사용 빈도가 낮다.

**RISC**

- 고정 길이 명령어를 활용
- 짧고 규격화된 명령어를 활용하기에 명령어 파이프라이닝에 유리
- 메모리 접근을 단순화, 최소화하는 대신 레지스터를 적극적으로 활용

| CISC | RISC |
| --- | --- |
| 복잡하고 다양한 명령어 | 단순하고 적은 명령어 |
| 가변 길이 명령어  | 고정 길이 명령어 |
| 다양한 주소 지정 방식 | 적은 주소 지정 방식 |
| 프로그램을 이루는 명령어의 수가 적음 | 프로그램을 이루는 명령어의 수가 많음 |
| 여러 클럭에 걸쳐 명령어 수행 | 1클럭 내외로 명령어 수행 |
| 파이프라이닝하기 어려움 | 파이프라이닝하기 쉬움 |

**결론 : 빠른 CPU를 만드는 법**

- 높은 클럭 속도에 멀티코어, 멀티 스레드를 지원하는 CPU를 만드는 것
- CPU가 놀지 않고 시간을 알뜰하게 쓰며 작동하게 만드는 것도 중요
- 명령어 파이프라이닝과 슈퍼스칼라 기법을 실제로 CPU에게 적용하려면 명령어가 파이프라이닝에 최적화되어 있어야 함 (RISC)